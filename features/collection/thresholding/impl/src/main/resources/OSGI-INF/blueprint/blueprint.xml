<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">
    <reference id="eventForwarder" interface="org.opennms.netmgt.events.api.EventForwarder" />
    <bean id="thresholdingSetPersister" class="org.opennms.netmgt.threshd.DefaultThresholdingSetPersister"/>
    <reference id="kvStore" interface="org.opennms.features.distributed.kvstore.api.KeyValueStore"/>

    <service interface="org.opennms.netmgt.threshd.api.ThresholdingService">
        <bean class="org.opennms.netmgt.threshd.ThresholdingServiceImpl" init-method="initOsgi">
            <property name="eventProxy" ref="eventForwarder"/>
            <property name="thresholdingSetPersister" ref="thresholdingSetPersister"/>
            <property name="kvStore" ref="kvStore"/>
        </bean>
    </service>
</blueprint>